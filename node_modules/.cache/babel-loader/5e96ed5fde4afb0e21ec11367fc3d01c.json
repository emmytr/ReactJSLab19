{"ast":null,"code":"var _jsxFileName = \"/Users/nus/Documents/Study/NU_Funix/React/ASM/Assignment 02 (Starter Code)/src/Movie.jsx\";\n// API Key\n// a090b75e1744dd94d481ba67ad26903e\n\n// API Read Access Token\n// eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiJhMDkwYjc1ZTE3NDRkZDk0ZDQ4MWJhNjdhZDI2OTAzZSIsIm5iZiI6MTcyODMxNzQxNy40MDUxOTEsInN1YiI6IjY3MDQwNTk3M2FmYzkxYTVmMTEzYTM3NSIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.ZSwPF56KWx_fo1dbaMRBXZqrR-hFstpP4L2owhxKZng\n\nimport React, { useState, useEffect } from 'react';\nimport styles from './movie.module.css'; // Import the CSS file\nimport MovieList from './pages/MovieDetail/MovieList';\n\n// Base URL for all API requests\nconst API_BASE_URL = 'https://api.themoviedb.org/3';\n\n// API key\nconst API_KEY = 'a090b75e1744dd94d481ba67ad26903e';\nconst requests = {\n  fetchTrending: `/trending/all/week?api_key=${API_KEY}&language=en-US`,\n  fetchNetflixOriginals: `/discover/tv?api_key=${API_KEY}&with_network=123`,\n  fetchTopRated: `/movie/top_rated?api_key=${API_KEY}&language=en-US`,\n  fetchActionMovies: `/discover/movie?api_key=${API_KEY}&with_genres=28`,\n  fetchComedyMovies: `/discover/movie?api_key=${API_KEY}&with_genres=35`,\n  fetchHorrorMovies: `/discover/movie?api_key=${API_KEY}&with_genres=27`,\n  fetchRomanceMovies: `/discover/movie?api_key=${API_KEY}&with_genres=10749`,\n  fetchDocumentaries: `/discover/movie?api_key=${API_KEY}&with_genres=99`,\n  fetchSearch: `/search/movie?api_key=${API_KEY}&language=en-US`\n};\n\n// function MovieList({ category, fetchUrl, isOriginals }) {\n//   const [movies, setMovies] = useState([]);\n\n//   useEffect(() => {\n//     async function fetchData() {\n//       const response = await fetch(`${API_BASE_URL}${fetchUrl}`);\n//       const data = await response.json();\n//       setMovies(data.results);\n//     }\n\n//     fetchData();\n//   }, [fetchUrl]);\n\n//   return (\n//     <div className={styles.group}>\n//       <h2>{category}</h2>\n//       <div className={styles.movieContainer}>\n//         {movies.map((movie) => (\n//           <div\n//             key={movie.id}\n//             className={`${styles.movieItem} ${isOriginals ? styles.netflixOriginals : styles.otherGenres}`}\n//           >\n//             {/* Conditional rendering: show poster for Netflix Originals, backdrop for other genres */}\n//             <img\n//               src={`https://image.tmdb.org/t/p/w500${isOriginals ? movie.poster_path : movie.backdrop_path}`}\n//               alt={movie.title || movie.name}\n//               className={styles.movieImage}\n//             />\n\n//           </div>\n//         ))}\n//       </div>\n//     </div >\n//   );\n// }\n\nfunction Movie() {\n  const [selectedMovie, setSelectedMovie] = useState(null); // Track the selected movie\n  const [sameGenreMovies, setSameGenreMovies] = useState([]); // Movies in the same genre as the selected movie\n  const [isMovieSelected, setIsMovieSelected] = useState(false); // If a movie is selected\n  const [allMovies, setAllMovies] = useState([]); // Store all movies\n\n  useEffect(() => {\n    // Fetch all movies for each genre\n    async function fetchAllMovies() {\n      const urls = Object.values(requests).map(url => `${API_BASE_URL}${url}`);\n      const allResponses = await Promise.all(urls.map(url => fetch(url).then(res => res.json())));\n      const movies = allResponses.flatMap(data => data.results);\n      setAllMovies(movies);\n    }\n    fetchAllMovies();\n  }, []);\n  const handleMovieClick = movie => {\n    if (selectedMovie && selectedMovie.id === movie.id) {\n      // Deselect the movie\n      setSelectedMovie(null);\n      setIsMovieSelected(false);\n    } else {\n      // Select the movie and filter same genre movies\n      setSelectedMovie(movie);\n      setIsMovieSelected(true);\n      const genreMovies = allMovies.filter(m => m.id !== movie.id && m.genre_ids.includes(movie.genre_ids[0]));\n      setSameGenreMovies(genreMovies);\n    }\n  };\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(MovieList, {\n    category: \"\",\n    fetchUrl: requests.fetchNetflixOriginals,\n    isOriginals: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(MovieList, {\n    category: \"Xu h\\u01B0\\u1EDBng\",\n    fetchUrl: requests.fetchTrending,\n    isOriginals: false,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(MovieList, {\n    category: \"X\\u1EBFp h\\u1EA1ng cao\",\n    fetchUrl: requests.fetchTopRated,\n    isOriginals: false,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(MovieList, {\n    category: \"H\\xE0nh \\u0111\\u1ED9ng\",\n    fetchUrl: requests.fetchActionMovies,\n    isOriginals: false,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(MovieList, {\n    category: \"H\\xE0i\",\n    fetchUrl: requests.fetchComedyMovies,\n    isOriginals: false,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(MovieList, {\n    category: \"Kinh d\\u1ECB\",\n    fetchUrl: requests.fetchHorrorMovies,\n    isOriginals: false,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(MovieList, {\n    category: \"L\\xE3ng m\\u1EA1n\",\n    fetchUrl: requests.fetchRomanceMovies,\n    isOriginals: false,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(MovieList, {\n    category: \"T\\xE0i li\\u1EC7u\",\n    fetchUrl: requests.fetchDocumentaries,\n    isOriginals: false,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 7\n    }\n  }));\n}\nexport default Movie;","map":{"version":3,"names":["React","useState","useEffect","styles","MovieList","API_BASE_URL","API_KEY","requests","fetchTrending","fetchNetflixOriginals","fetchTopRated","fetchActionMovies","fetchComedyMovies","fetchHorrorMovies","fetchRomanceMovies","fetchDocumentaries","fetchSearch","Movie","selectedMovie","setSelectedMovie","sameGenreMovies","setSameGenreMovies","isMovieSelected","setIsMovieSelected","allMovies","setAllMovies","fetchAllMovies","urls","Object","values","map","url","allResponses","Promise","all","fetch","then","res","json","movies","flatMap","data","results","handleMovieClick","movie","id","genreMovies","filter","m","genre_ids","includes","createElement","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","category","fetchUrl","isOriginals"],"sources":["/Users/nus/Documents/Study/NU_Funix/React/ASM/Assignment 02 (Starter Code)/src/Movie.jsx"],"sourcesContent":["// API Key\n// a090b75e1744dd94d481ba67ad26903e\n\n// API Read Access Token\n// eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiJhMDkwYjc1ZTE3NDRkZDk0ZDQ4MWJhNjdhZDI2OTAzZSIsIm5iZiI6MTcyODMxNzQxNy40MDUxOTEsInN1YiI6IjY3MDQwNTk3M2FmYzkxYTVmMTEzYTM3NSIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.ZSwPF56KWx_fo1dbaMRBXZqrR-hFstpP4L2owhxKZng\n\n\nimport React, { useState, useEffect } from 'react';\nimport styles from './movie.module.css';  // Import the CSS file\nimport MovieList from './pages/MovieDetail/MovieList';\n\n// Base URL for all API requests\nconst API_BASE_URL = 'https://api.themoviedb.org/3';\n\n// API key\nconst API_KEY = 'a090b75e1744dd94d481ba67ad26903e';\n\nconst requests = {\n  fetchTrending: `/trending/all/week?api_key=${API_KEY}&language=en-US`,\n  fetchNetflixOriginals: `/discover/tv?api_key=${API_KEY}&with_network=123`,\n  fetchTopRated: `/movie/top_rated?api_key=${API_KEY}&language=en-US`,\n  fetchActionMovies: `/discover/movie?api_key=${API_KEY}&with_genres=28`,\n  fetchComedyMovies: `/discover/movie?api_key=${API_KEY}&with_genres=35`,\n  fetchHorrorMovies: `/discover/movie?api_key=${API_KEY}&with_genres=27`,\n  fetchRomanceMovies: `/discover/movie?api_key=${API_KEY}&with_genres=10749`,\n  fetchDocumentaries: `/discover/movie?api_key=${API_KEY}&with_genres=99`,\n  fetchSearch: `/search/movie?api_key=${API_KEY}&language=en-US`,\n};\n\n// function MovieList({ category, fetchUrl, isOriginals }) {\n//   const [movies, setMovies] = useState([]);\n\n//   useEffect(() => {\n//     async function fetchData() {\n//       const response = await fetch(`${API_BASE_URL}${fetchUrl}`);\n//       const data = await response.json();\n//       setMovies(data.results);\n//     }\n\n//     fetchData();\n//   }, [fetchUrl]);\n\n//   return (\n//     <div className={styles.group}>\n//       <h2>{category}</h2>\n//       <div className={styles.movieContainer}>\n//         {movies.map((movie) => (\n//           <div\n//             key={movie.id}\n//             className={`${styles.movieItem} ${isOriginals ? styles.netflixOriginals : styles.otherGenres}`}\n//           >\n//             {/* Conditional rendering: show poster for Netflix Originals, backdrop for other genres */}\n//             <img\n//               src={`https://image.tmdb.org/t/p/w500${isOriginals ? movie.poster_path : movie.backdrop_path}`}\n//               alt={movie.title || movie.name}\n//               className={styles.movieImage}\n//             />\n\n//           </div>\n//         ))}\n//       </div>\n//     </div >\n//   );\n// }\n\nfunction Movie() {\n  const [selectedMovie, setSelectedMovie] = useState(null);   // Track the selected movie\n  const [sameGenreMovies, setSameGenreMovies] = useState([]); // Movies in the same genre as the selected movie\n  const [isMovieSelected, setIsMovieSelected] = useState(false); // If a movie is selected\n  const [allMovies, setAllMovies] = useState([]);             // Store all movies\n\n\n  useEffect(() => {\n    // Fetch all movies for each genre\n    async function fetchAllMovies() {\n      const urls = Object.values(requests).map(url => `${API_BASE_URL}${url}`);\n      const allResponses = await Promise.all(urls.map(url => fetch(url).then(res => res.json())));\n      const movies = allResponses.flatMap(data => data.results);\n      setAllMovies(movies);\n    }\n    fetchAllMovies();\n  }, []);\n\n  const handleMovieClick = (movie) => {\n    if (selectedMovie && selectedMovie.id === movie.id) {\n      // Deselect the movie\n      setSelectedMovie(null);\n      setIsMovieSelected(false);\n    } else {\n      // Select the movie and filter same genre movies\n      setSelectedMovie(movie);\n      setIsMovieSelected(true);\n      const genreMovies = allMovies.filter(m => m.id !== movie.id && m.genre_ids.includes(movie.genre_ids[0]));\n      setSameGenreMovies(genreMovies);\n    }\n  }\n\n\n  return (\n    <div>\n      <MovieList category=\"\" fetchUrl={requests.fetchNetflixOriginals} isOriginals={true} />\n      <MovieList category=\"Xu hướng\" fetchUrl={requests.fetchTrending} isOriginals={false} />\n      <MovieList category=\"Xếp hạng cao\" fetchUrl={requests.fetchTopRated} isOriginals={false} />\n      <MovieList category=\"Hành động\" fetchUrl={requests.fetchActionMovies} isOriginals={false} />\n      <MovieList category=\"Hài\" fetchUrl={requests.fetchComedyMovies} isOriginals={false} />\n      <MovieList category=\"Kinh dị\" fetchUrl={requests.fetchHorrorMovies} isOriginals={false} />\n      <MovieList category=\"Lãng mạn\" fetchUrl={requests.fetchRomanceMovies} isOriginals={false} />\n      <MovieList category=\"Tài liệu\" fetchUrl={requests.fetchDocumentaries} isOriginals={false} />\n    </div>\n  );\n}\n\nexport default Movie;\n\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}